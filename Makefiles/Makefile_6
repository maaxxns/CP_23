#We build a binary from two independent cpp files. First, we 
#build the object files, then we link the object files into 
#a single binary
ODIR	= build

.PHONY: all
all: $(ODIR)/hello_world_with_ext_function

$(ODIR)/hello_world_with_ext_function.o: hello_world_with_ext_function.cpp ext_function.hpp | $(ODIR)
	g++ $< -c -o $@

$(ODIR)/ext_function.o: ext_function.cpp ext_function.hpp | $(ODIR)
	g++ $< -c -o $@

$(ODIR)/hello_world_with_ext_function: $(ODIR)/hello_world_with_ext_function.o $(ODIR)/ext_function.o
	g++ $^ -o $@

$(ODIR):
	mkdir $(ODIR)
